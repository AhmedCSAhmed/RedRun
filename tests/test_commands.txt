# Pytest Commands for RedRun Tests

# ============================================
# Setup Virtual Environment (one-time setup)
# ============================================

# Activate virtual environment (macOS/Linux)
source .venv/bin/activate

# Activate virtual environment (Windows)
# .venv\Scripts\activate

# Install pytest (if not already installed)
pip install pytest

# ============================================
# Running Tests (after venv is activated)
# ============================================

# Run all tests
python -m pytest tests/ -v

# Run all tests with output (print statements)
python -m pytest tests/ -v -s

# Run Reader tests only
python -m pytest tests/test_ingest_reader.py -v -s

# Run Normalizer tests only
python -m pytest tests/test_ingest_normalizer.py -v -s

# Run specific test function
python -m pytest tests/test_ingest_reader.py::test_file_source_reads_lines_and_strips_newlines -v -s

# Run tests with coverage (if pytest-cov is installed)
python -m pytest tests/ -v --cov=redrun

# Run tests and stop on first failure
python -m pytest tests/ -v -x

# Run tests and show local variables on failure
python -m pytest tests/ -v -l

